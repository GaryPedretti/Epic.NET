<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Chapter 3. Shared Identifiers</title><link rel="stylesheet" href="/layout.css" type="text/css" /><link rel="stylesheet" href="/screen.css" type="text/css" /><link rel="stylesheet" href="documentation.css" type="text/css" /><meta name="generator" content="DocBook XSL Stylesheets V1.75.2" /><link rel="home" href="manual.html" title="Dominant Domains" /><link rel="up" href="a_shared_modeling_grammar.html" title="Part I. Toward a shared modeling grammar" /><link rel="prev" href="bounded_roles.html" title="Chapter 2. Bounded Roles" /><link rel="next" href="command_query_separation.html" title="Chapter 4. Command - Query separation" /><meta charset="utf-8" /><link rel="icon" href="/favicon.ico" /><link rel="alternate" type="application/atom+xml" title="Development log" href="atom.xml" /><!--[if !IE 7]>
    <style type="text/css">
		#wrap {display:table;height:100%}
	</style>
  <![endif]--><!--[if lt IE 8]>
    <style type="text/css">
        #header {padding-top: 9px}
    </xsl:element>
  <![endif]--><!--[if IE 8]>
    <style type="text/css">
		#wrap {width:100%}
	</style>
  <![endif]--></head><body><div id="wrap"><div id="header"><a href="http://github.com/Shamar/Epic.NET/"><img style="position: absolute; top: 0; left: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_left_orange_ff7600.png" alt="Fork me on GitHub" /></a><div class="title">Epic</div><span>dominant domains</span></div><div id="main"><div id="content"><div class="chapter" title="Chapter 3. Shared Identifiers"><div class="titlepage"><div><div><h2 class="title"><a id="shared_identifiers"></a>Chapter 3. Shared Identifiers</h2></div></div></div><div class="toc"><ul><li><a href="/doc/manual.html" class="toc-title">Table of Contents</a></li><li><span class="section"><a href="shared_identifiers.html#about_you_can_share_what_you_have">You can share what you have</a></span></li><li><span class="section"><a href="shared_identifiers.html#about_cheap_placeholders">Cheap placeholders</a></span></li></ul></div><p>I am Giacomo Tesio. "Giacomo Tesio" represents a convention for calling me.</p><p>It’s just a string, an expression that human beings can tell, write or type.</p><p>There are a lot of identifiers pointing to me: tax code, vat code and even
babblings like "papo" <sup>[<a id="id426740" href="#ftn.id426740" class="footnote">2</a>]</sup> as
my lovely doughter used to call me when she was six month old.</p><p>As you know, identifiers are key concepts in domain driven design.</p><p>Most of newcomers thinks that identifiers are just used to identify.</p><p>They are not. They are first class citizen in the ubiquitous language.</p><p>All people that develop, use or maintain a domain model <span class="strong"><strong>must share</strong></span> the
identifiers or the language loose its ubiquitousness.</p><p>No matter how fast are integer indices over a database, to identify a security
on a international software you <span class="strong"><strong>must</strong></span> use its ISIN.
<sup>[<a id="id426778" href="#ftn.id426778" class="footnote">3</a>]</sup>
To identify a web resource you <span class="strong"><strong>must</strong></span> use its http URI.</p><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="images/warning.png" /></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>This is the general rule. But do not forget to adapt the rule to the
context! To identify my home computers, my doughter say "the big one",
"the old one", "the one I could break" and in such context these identifiers
are far better than their own network addresses!</p></td></tr></table></div><p>An interesting identifier is</p><div class="section" title="You can share what you have"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="about_you_can_share_what_you_have"></a>You can share what you have</h2></div></div></div><p>To share something you need to own it.</p><p>Owning an identifier means to be able to express it in the domain model.
Thus you should always model identifiers with dedicated classes.</p><p>Identifiers are contracts by definition, so they do not need to be interfaces.</p><p>Moreover they are immutable since mutability would damage their use.</p><p>This makes strings and integers a sweet temptation to avoid. The reason is
simple you can’t sum two identifiers and most of times you can’t get an
identifier from another.</p><p>So you have to design entities' identifiers as custom value objects.
When they follow business rules (like ISBN-13) you should put them in their
code. Moreover you should make them sealed to avoid dirty temptations that
could lead you to a bloodbath.</p><div class="tip" title="Tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="images/tip.png" /></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>ISBN is an interesting identifier: for a bookshop, ISBNs are the main candidates
to identify books, but what about a library?
Library’s employees distinguish between different copies of the same book, so
that an ISBN is not enough for them. Nevertheless, public catalogs use
ISBN to allow library’s users to find what they need.</p><p>So what?</p><p>This is a simple case of identifiers shared in different context boundaries:
both users and employees understand ISBNs when looking for a copy of a book,
but when an employee lends you a book, he logs the individual copy’s location
through its registration code.</p><p>In this situation we would have two classes for identify books: ISBN for the
LibraryUser role and RegistrationCode for the LibraryEmployee one.</p></td></tr></table></div></div><div class="section" title="Cheap placeholders"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="about_cheap_placeholders"></a>Cheap placeholders</h2></div></div></div><p>Coming soon.</p></div><div class="footnotes"><br /><hr width="100" align="left" /><div class="footnote"><p><sup>[<a id="ftn.id426740" href="#id426740" class="simpara">2</a>] </sup>Something like "daddee", in italian.</p></div><div class="footnote"><p><sup>[<a id="ftn.id426778" href="#id426778" class="simpara">3</a>] </sup>ISINs are slowly being introduced worldwide. At present,
many countries have adopted ISINs as a secondary measure of identifying
securities, but as yet only some of those countries have moved to using ISINs
as their primary means of identifying securities.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="bounded_roles.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="a_shared_modeling_grammar.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="command_query_separation.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 2. Bounded Roles </td><td width="20%" align="center"><a accesskey="h" href="manual.html">Table of Contents</a></td><td width="40%" align="right" valign="top"> Chapter 4. Command - Query separation</td></tr></table></div></div></div></div><div id="footer"><div class="copyright">Copyright © 2010-2011 Giacomo Tesio</div></div></body></html>
